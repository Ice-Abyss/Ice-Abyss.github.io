<!DOCTYPE html>
<html>
    <head>
        <title>第三篇：当我们在浏览器中键入 google.com 时，幕后会发生什么？</title>
        <script type="text/javascript" src="3.js"></script>
        <link rel="shortcut icon" href="../../static/images/icon.ico">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link id="theme" rel="stylesheet" type="text/css" href="light.css">
 
    </head>
    <body>

        <audio autoplay="autoplay" id="audio" loop="loop">
            <source src="木漏れ日のささやき.mp3" type="audio/MP3">
        </audio>


        <a href="https://github.com/ice-abyss" target="_blank" class="github-corner" aria-label="View source on GitHub">
            <svg width="80" height="80" viewBox="0 0 250 250"
                style="fill:#000000; color:rgb(255, 255, 255); position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);"
                aria-hidden="true">
                <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
                <path
                d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
                fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
                <path
                d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
                fill="currentColor" class="octo-body"></path>
            </svg>
            <style>
                .github-corner:hover .octo-arm {
                animation: octocat-wave 560ms ease-in-out
                }
        
                @keyframes octocat-wave {
        
                0%,
                100% {
                    transform: rotate(0)
                }
        
                20%,
                60% {
                    transform: rotate(-25deg)
                }
        
                40%,
                80% {
                    transform: rotate(10deg)
                }
                }
        
                @media (max-width:500px) {
                .github-corner:hover .octo-arm {
                    animation: none
                }
        
                .github-corner .octo-arm {
                    animation: octocat-wave 560ms ease-in-out
                }
                }
                </style>
            </a>


        <h1 align="center">第三篇：当我们在浏览器中输入 google.com 时，背后会发生什么？</h1>



        <!-- ======= Header ======= -->
        <header id="header" class="header-tops">
            <div class="container">
              
                <!--<h1><a href="index.html">#</a></h1> -->
                <h2>
                <div class="jz  ys" id="chakhsu"></div>
                </h2>
                <nav class="nav-menu d-none d-lg-block">
                <ul>
                    <li class="active"><a href="../../index.html">Home(主页)</a></li>
                    <!--  <li><a href="#about">关于</a></li> -->
                    <li><a href="../../blog.html">Blog(博客)</a></li>
                    <li><a href="../../tools.html">Tools(工具)</a></li>
                    <!--  <li><a href="#portfolio">Soft</a></li> -->
                    <!--<li><a href="#">联系</a></li>-->
                    <li><a href="../../about.html">About(关于)</a></li>
                </ul>
            </nav><!-- .nav-menu -->



        <br>




        <button id="theme-toggle">开启黑暗模式</button>
        <h2>网络是如何运作的？</h2>
        <p>当我们在浏览器中键入 google.com 时，背后会发生什么？</p>
        <h3>1.当 google 的“g”键被按下</h3>
        <p>当您只需要按下“g”时，浏览器就会收到该事件，整个自动完成机器就会进入高速运转状态。根据您的浏览器算法，如果您不是处于私密/隐身模式，则网址栏下方的Dropbox中会显示各种建议。这些算法中的大多数都根据搜索历史记录和书签对结果进行优先级排序。您将会不会继续输入“google.com”，因此都无关紧要，但是在您到达那里之前会运行大量代码，并且每次按键都会优化建议。它甚至可能在您输入之前就已经推荐“google.com”。</p>
        <h3>2.当您点击“ENTER”时</h3>
        <p>选择一个零点（我没看懂😅原文是To pick a zero point），我们选择键盘上的 Enter 键，点击其范围的底部。此时，特定于回车键的电路被关闭（直接或电容）。这允许少量电流流入键盘的逻辑电路，键盘扫描每个按键开关的状态，消除开关快速间歇闭合的电噪声，并将其转换为键码整数。然后，键盘控制器对键码进行编码，以便传输到计算机。现在，这几乎普遍通过通用串行总线（USB）或蓝牙连接。</p>
        <p>对于 USB 键盘：</p>
        <p>• 生成的键码由内部键盘电路存储器存储在称为“端点”的寄存器中。</p>
        <p>• 主机 USB 控制器每大约 10 毫秒轮询一次“端点”，因此它获取存储在其上的键码值。</p>
        <p>• 此值将转到以 1.5 Mb/s （USB 2.0） 的最大速度发送的 USB SIE（串行接口引擎）。</p>
        <p>• 然后，此串行信号在计算机的主 USB 控制器上进行解码，并由计算机的人机接口设备 （HID） 通用键盘设备驱动程序进行解释。</p>
        <p>• 然后，密钥的值将传递到操作系统的硬件抽象层。</p>
        <p>在触摸屏键盘的情况下：</p>
        <p>• 当用户将手指放在现代电容式触摸屏上时，少量电流被传输到手指上。这通过导电层的静电场完成电路，并在屏幕上的该点产生压降。然后，屏幕控制器引发一个中断，报告“单击”的坐标。</p>
        <p>• 然后，移动操作系统在其 GUI 元素之一（现在是虚拟键盘应用程序按钮）中通知当前关注的应用程序单击事件。</p>
        <p>• 虚拟键盘现在可以引发软件中断，以将“按键按下”消息发送回操作系统。</p>
        <p>• 此中断通知当前聚焦的应用程序“按键”事件。</p>
        <h3>3.解析网址</h3>
        <p>浏览器现在在 URL（统一资源定位器）中包含以下信息：</p>
        <p>• 协议“http”：使用“超文本传输协议”</p>
        <p>• 资源“/”：检索主（索引）页</p>
        <p>当没有给出协议或有效域名时，浏览器继续将地址框中给出的文本提供给浏览器的默认Web搜索引擎。</p>
        <h3>4.检查 HSTS 列表（已弃用）</h3>
        <p><del>• 浏览器检查其“预加载的HSTS（HTTP严格传输安全）”列表。这是仅请求通过HTTPS联系的网站列表。</del></p>
        <p><del>• 如果网站在列表中，浏览器将通过HTTPS而不是HTTP发送其请求。否则，初始请求将通过 HTTP 发送。</del></p>
        <p>注意：该网站仍然可以使用HSTS策略，而不会在HSTS列表中。用户对网站的第一个 HTTP 请求将收到一个响应，请求用户仅发送 HTTPS 请求。但是，此单个 HTTP 请求可能会使用户容易受到降级攻击，这就是 HSTS 列表包含在现代 Web 浏览器中的原因。</p>
        <p>现代浏览器首先请求https</p>
        <h3>5.域名系统查找</h3>
        <p>浏览器尝试找出输入域的 IP 地址。DNS 查找按如下方式进行：</p>
        <p><b>• 浏览器缓存：</b>浏览器将 DNS 记录缓存一段时间。有趣的是，操作系统不会告诉浏览器每个DNS记录的生存时间，因此浏览器会将它们缓存固定的持续时间（因浏览器而异，2-30分钟）。</p>
        <p><b>• 操作系统缓存：</b>如果浏览器缓存不包含所需的记录，则浏览器将进行系统调用（在 Windows 中为 gethostbyname）。操作系统有自己的缓存。</p>
        <p><b>• 路由器缓存：</b>请求继续发送到您的路由器，该路由器通常具有自己的DNS缓存。</p>
        <p><b>• ISP DNS 缓存：</b>检查的下一个位置是缓存 ISP 的 DNS 服务器。当然，使用缓存。</p>
        <p><b>• 递归搜索：</b>您的 ISP 的 DNS 服务器开始递归搜索，从根名称服务器到.com顶级名称服务器，再到 Google 的名称服务器。通常，DNS 服务器将在缓存中具有.com名称服务器的名称，因此不需要命中根名称服务器。</p>
        <p>下图显示了递归 DNS 搜索的外观：</p>
        <img alt="dns" src="dns.png" width="550">
        <p>关于DNS的一个令人担忧的事情是，整个域（如 wikipedia.org 或 facebook.com）似乎映射到单个IP地址。幸运的是，有一些方法可以缓解瓶颈：</p>
        <p><b>• 轮循机制 </b>是一种解决方案，其中 DNS 查找返回多个 IP 地址，而不仅仅是一个 IP 地址。例如，facebook.com 实际上映射到四个 IP 地址。</p>
        <p><b>• 负载平衡器</b>是侦听特定 IP 地址并将请求转发到其他服务器的硬件。主要站点通常使用昂贵的高性能负载平衡器。</p>
        <p><b>• 地理 DNS </b>通过将域名映射到不同的 IP 地址（具体取决于客户端的地理位置）来提高可伸缩性。这非常适合托管静态内容，以便不同的服务器不必更新共享状态。</p>
        <p><b>• 任播</b>是一种路由技术，其中单个 IP 地址映射到多个物理服务器。不幸的是，任播不适合TCP，并且很少在这种情况下使用。</p>
        <p>大多数 DNS 服务器本身使用任播来实现 DNS 查找的高可用性和低延迟。任播服务的用户（DNS就是一个很好的例子）将始终连接到“最近”（从路由协议的角度来看）DNS服务器。这减少了延迟，并提供了一定程度的负载平衡（假设您的使用者均匀分布在您的网络中）。</p>
        <h3>6.打开套接字 + TLS 握手</h3>





        <p>🎵本期背景音乐：木漏れ日のささやき</p>
        <p>感谢观看，我是冰渊(IceAbyss)，我们下期再见:)👋👋🏻👋🏼👋🏽👋🏾👋🏿</p>
        <p>若有错漏或者维权的地方请联系我->邮箱📧iceabyss545@gmail.com</p>
            <br><br><br>
        
        <div id="footer">CopyRight©copy2022    冰渊(IceAbyss) 版权所有</div>


    </body>
</html>